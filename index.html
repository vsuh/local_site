$(document).ready(function() {
    $.getJSON('src/site.json', function(data) {
        const links = data.site.container.links;
        
        links.forEach(service => {
            const serviceKey = Object.keys(service)[0];
            const serviceData = service[serviceKey];
            
            let name, description, link, className;
            
            serviceData.forEach(item => {
                const key = Object.keys(item)[0];
                const value = item[key];
                switch(key) {
                    case 'name': name = value; break;
                    case 'description': description = value; break;
                    case 'link': link = value; break;
                    case 'class': className = value; break;
                }
            });

            const linkElement = `
                <div class="col">
                    <div class="${className}">
                        <h3>${name}</h3>
                        <p class="text-muted">${description}</p>
                        <a href="http://${link}" target="_blank" class="btn btn-outline-primary">Открыть →</a>
                    </div>
                </div>
            `;
            
            $('#linksContainer').append(linkElement);
        });
    }).fail(function(jqxhr, textStatus, error) {
        console.error('Error loading JSON file:', textStatus, error);
        $('#linksContainer').html('<div class="alert alert-danger">Ошибка загрузки данных</div>');
    });
});